<template>    <div>        <el-card style="margin-bottom: 30px;" v-if="post_id === 1" shadow="never">            <el-form :inline="true" :model="condition" class="demo-form-inline delbtm">                <el-select v-model="condition.structure_id" filterable placeholder="请选择组" clearable>                    <el-option value="0" label="全部"></el-option>                    <el-option v-for="item in groupList.list" :key="item.id" :label="item.name" :value="item.id">                    </el-option>                </el-select>                <el-select v-model="condition.uid" filterable placeholder="请选择组员" clearable>                    <el-option value="0" label="全部"></el-option>                    <el-option v-for="item in groupMemberList.list" :key="item.id" :label="item.realname"                               :value="item.id">                    </el-option>                </el-select>                <el-button icon="el-icon-search" @click="getReportList" type="primary">查询</el-button>            </el-form>        </el-card>        <el-card shadow="never">            <el-table :data="reportList.list" style="width: 100%">                <el-table-column prop="time" label="日期" width="120" align="center">                </el-table-column>                <el-table-column label="还款" align="center">                    <el-table-column label="总还款" prop="repayment_amount_all" align="center"></el-table-column>                    <el-table-column label="当天还款" prop="repayment_amount_all_1" align="center"></el-table-column>                    <el-table-column label="过期还款" prop="repayment_amount_all_2" align="center"></el-table-column>                    <el-table-column label="明日提前还款" prop="repayment_amount_all_3" align="center"></el-table-column>                </el-table-column>                <el-table-column label="放款" align="center">                    <el-table-column label="放款总金额" prop="loan_amount_all" align="center"></el-table-column>                    <el-table-column label="放款服务费" prop="service_amount_all" align="center"></el-table-column>                    <el-table-column label="新单金额" prop="loan_amount_new_all" align="center"></el-table-column>                    <el-table-column label="新单服务费" prop="service_amount_new_all" align="center"></el-table-column>                    <el-table-column label="续借总金额" prop="loan_amount_renew_all" align="center"></el-table-column>                    <el-table-column label="续借服务费" prop="service_amount_renew_all" align="center"></el-table-column>                </el-table-column>                <el-table-column label="当日进出金额" align="center" width="120">                    <template slot-scope="scope">                        {{ parseFloat(scope.row.repayment_amount_all - scope.row.loan_amount_all).toFixed(2) }}                    </template>                </el-table-column>            </el-table>            <el-pagination layout="total,prev, pager, next" class="fr" :total="reportList.dataCount" :pageSize="15"                           @current-change="getDataByPage">            </el-pagination>        </el-card>    </div></template><script>  import http from 'src/assets/js/http'  export default {    data() {      return {        condition: {          type: 1, //1用于请求天数据 2为月数据          page: 1,          limit: 15,          structure_id: '',          uid: ''        },        post_id: JSON.parse(localStorage.getItem('userInfo')).data.post_id,        reportList: {},        groupList: {},        groupMemberList: {},      }    },    watch: {      'condition.structure_id': function () {        this.getGroupMember();      }    },    methods: {      getReportList() {        this.apiGet('/admin/report/getListFinc', {params: this.condition}).then((res) => {          if (res.code === 200) {            this.$set(this, 'reportList', res.data)          } else {            _g.toastMsg('error', res.error)          }        }).catch((err) => {          _g.toastMsg('error', err)        })      },      getDataByPage(page) {        this.$set(this.condition, 'page', page)        this.getReportList();      },      getGroup() {        this.apiGet('/admin/Structures/getGroup').then((res) => {          if (res.code === 200) {            this.$set(this, 'groupList', res.data)          } else {            _g.toastMsg('error', res.error)          }        }).catch((err) => {          _g.toastMsg('error', err)        })      },      getGroupMember() {        this.apiGet('/admin/users', {params: {structure_id: this.condition.structure_id}}).then((res) => {          if (res.code === 200) {            this.$set(this, 'groupMemberList', res.data)          } else {            _g.toastMsg('error', res.error)          }        }).catch((err) => {          _g.toastMsg('error', err)        })      },      renderHeader(h, {column,$index}) {        let data = {          "当然还款": '当天到期',          "过期还款": '当天还进来的',          "应还总额": '当天放款金额的应收回金额',          "放款单数": '当天放款的单数',          "总支出": '当天放款本金',          "已还金额": '当天收回的金额',          "已还单数": '当天收回的单数',          "未还金额": '当天应还，但是未还的金额',          "未还单数": '当天应还，但是未还的单数',          "逾期率": '当天的逾期率',          "收益": '当天收回金额-当天放出去的金额=当天收益',        }        if (column.label) {          return h('span', {}, [            h('span', {}, column.label),            h('el-popover', {props: {placement: 'top-start', width: '200', trigger: 'hover', content: data[column.label]}}, [              h('i', {slot: 'reference', class: 'el-icon-question', style: 'color:gray;font-size:16px;margin-left:10px;'}, '')            ])          ])        }      }    },    mounted() {      this.getReportList();      _g.closeGlobalLoading();      if (this.post_id !== 2) {        this.getGroup();      }    },    mixins: [http]  }</script>