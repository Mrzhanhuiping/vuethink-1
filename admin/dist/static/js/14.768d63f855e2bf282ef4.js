webpackJsonp([14,34],{6:function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(11);e.exports.f=function(e){return new r(e)}},13:function(e,t,n){var r=n(10),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},14:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},15:function(e,t,n){var r=n(5),o=n(20),i=n(6);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e),s=n.resolve;return s(t),n.promise}},16:function(e,t,n){var r=n(5),o=n(11),i=n(2)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[i])?t:o(n)}},17:function(e,t,n){var r,o,i,s=n(12),a=n(27),c=n(47),u=n(46),f=n(3),l=f.process,d=f.setImmediate,p=f.clearImmediate,v=f.MessageChannel,h=f.Dispatch,m=0,_={},g="onreadystatechange",L=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){L.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++m]=function(){a("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete _[e]},"process"==n(10)(l)?r=function(e){l.nextTick(s(L,e,1))}:h&&h.now?r=function(e){h.now(s(L,e,1))}:v?(o=new v,i=o.port2,o.port1.onmessage=y,r=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",y,!1)):r=g in u("script")?function(e){c.appendChild(u("script"))[g]=function(){c.removeChild(this),L.call(e)}}:function(e){setTimeout(s(L,e,1),0)}),e.exports={set:d,clear:p}},19:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),i=r(o),s={methods:{apiGet:function(e,t){return new i.default(function(n,r){axios.get(e,t).then(function(e){n(e.data)},function(e){r(e),_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiPost:function(e,t){return new i.default(function(n,r){axios.post(e,t).then(function(e){n(e.data)}).catch(function(e){console.log("f",e),n(e),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiPostForExport:function(e,t){return axios.post(e,t,{responseType:"arraybuffer"})},apiDelete:function(e,t){return new i.default(function(n,r){axios.delete(e+t).then(function(e){n(e.data)},function(e){r(e),_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiPut:function(e,t,n){return new i.default(function(r,o){axios.put(e+t,n).then(function(e){r(e.data)},function(e){_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"}),o(e)})})},handelResponse:function(e,t,n){_g.closeGlobalLoading(),200==e.code?t(e.data):("function"==typeof n&&n(),this.handleError(e))},handleError:function(e){var t=this;if(e.code)switch(e.code){case 101:if(console.log("cookie = ",Cookies.get("rememberPwd")),Cookies.get("rememberPwd")){var n={rememberKey:Lockr.get("rememberKey")};this.reAjax("admin/base/relogin",n).then(function(e){t.handelResponse(e,function(e){t.resetCommonData(e)})})}else _g.toastMsg("error",e.error),setTimeout(function(){router.replace("/")},1500);break;case 103:_g.toastMsg("error",e.error),setTimeout(function(){router.replace("/")},1500);break;default:_g.toastMsg("error",e.error)}else console.log("default error")},resetCommonData:function(e){var t=this;_(e.menusList).forEach(function(e,t){0==t?e.selected=!0:e.selected=!1}),Lockr.set("menus",e.menusList),Lockr.set("authKey",e.authKey),Lockr.set("rememberKey",e.rememberKey),Lockr.set("authList",e.authList),Lockr.set("userInfo",e.userInfo),Lockr.set("sessionId",e.sessionId),window.axios.defaults.headers.authKey=Lockr.get("authKey");var n="";n=e.menusList[0].url?e.menusList[0].url:e.menusList[0].child[0].child[0].url,setTimeout(function(){var e=t.$route.path;n!=e?router.replace(n):_g.shallowRefresh(t.$route.name)},1e3)},reAjax:function(e,t){return new i.default(function(n,r){axios.post(e,t).then(function(e){n(e.data)},function(e){r(e),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})}},computed:{showLoading:function(){return store.state.globalLoading}}};t.default=s},21:function(e,t,n){e.exports={default:n(24),__esModule:!0}},24:function(e,t,n){n(49),n(50),n(51),n(36),n(37),n(38),e.exports=n(4).Promise},25:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},26:function(e,t,n){var r=n(12),o=n(29),i=n(28),s=n(5),a=n(48),c=n(35),u={},f={},t=e.exports=function(e,t,n,l,d){var p,v,h,m,_=d?function(){return e}:c(e),g=r(n,l,t?2:1),L=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(i(_)){for(p=a(e.length);p>L;L++)if(m=t?g(s(v=e[L])[0],v[1]):g(e[L]),m===u||m===f)return m}else for(h=_.call(e);!(v=h.next()).done;)if(m=o(h,g,v.value,t),m===u||m===f)return m};t.BREAK=u,t.RETURN=f},27:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},28:function(e,t,n){var r=n(22),o=n(2)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},29:function(e,t,n){var r=n(5);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},30:function(e,t,n){var r=n(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},31:function(e,t,n){var r=n(3),o=n(17).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(10)(s);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);n=function(){f.then(u)}}else n=function(){o.call(r,u)};else{var l=!0,d=document.createTextNode("");new i(u).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},32:function(e,t,n){var r=n(41);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},33:function(e,t,n){"use strict";var r=n(3),o=n(4),i=n(42),s=n(40),a=n(2)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},34:function(e,t,n){var r=n(3),o=r.navigator;e.exports=o&&o.userAgent||""},35:function(e,t,n){var r=n(13),o=n(2)("iterator"),i=n(22);e.exports=n(4).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},36:function(e,t,n){"use strict";var r,o,i,s,a=n(43),c=n(3),u=n(12),f=n(13),l=n(9),d=n(20),p=n(11),v=n(25),h=n(26),m=n(16),_=n(17).set,g=n(31)(),L=n(6),y=n(14),E=n(34),S=n(15),O="Promise",w=c.TypeError,I=c.process,x=I&&I.versions,b=x&&x.v8||"",T=c[O],M="process"==f(I),N=function(){},G=o=L.f,P=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(N,N)};return(M||"function"==typeof PromiseRejectionEvent)&&e.then(N)instanceof t&&0!==b.indexOf("6.6")&&E.indexOf("Chrome/66")===-1}catch(e){}}(),Y=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,o=1==e._s,i=0,s=function(t){var n,i,s,a=o?t.ok:t.fail,c=t.resolve,u=t.reject,f=t.domain;try{a?(o||(2==e._h&&k(e),e._h=1),a===!0?n=r:(f&&f.enter(),n=a(r),f&&(f.exit(),s=!0)),n===t.promise?u(w("Promise-chain cycle")):(i=Y(n))?i.call(n,c,u):c(n)):u(r)}catch(e){f&&!s&&f.exit(),u(e)}};n.length>i;)s(n[i++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){_.call(c,function(){var t,n,r,o=e._v,i=j(e);if(i&&(t=y(function(){M?I.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=M||j(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},k=function(e){_.call(c,function(){var t;M?I.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},C=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},R=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=Y(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,u(R,r,1),u(C,r,1))}catch(e){C.call(r,e)}}):(n._v=e,n._s=1,A(n,!1))}catch(e){C.call({_w:n,_d:!1},e)}}};P||(T=function(e){v(this,T,O,"_h"),p(e),r.call(this);try{e(u(R,this,1),u(C,this,1))}catch(e){C.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(32)(T.prototype,{then:function(e,t){var n=G(m(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=M?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(R,e,1),this.reject=u(C,e,1)},L.f=G=function(e){return e===T||e===s?new i(e):o(e)}),l(l.G+l.W+l.F*!P,{Promise:T}),n(44)(T,O),n(33)(O),s=n(4)[O],l(l.S+l.F*!P,O,{reject:function(e){var t=G(this),n=t.reject;return n(e),t.promise}}),l(l.S+l.F*(a||!P),O,{resolve:function(e){return S(a&&this===s?T:this,e)}}),l(l.S+l.F*!(P&&n(30)(function(e){T.all(e).catch(N)})),O,{all:function(e){var t=this,n=G(t),r=n.resolve,o=n.reject,i=y(function(){var n=[],i=0,s=1;h(e,!1,function(e){var a=i++,c=!1;n.push(void 0),s++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=G(t),r=n.reject,o=y(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},37:function(e,t,n){"use strict";var r=n(9),o=n(4),i=n(3),s=n(16),a=n(15);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},38:function(e,t,n){"use strict";var r=n(9),o=n(6),i=n(14);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},589:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=r(o),s=n(1187),a=r(s);t.default={data:function(){return{isLoading:!1,fileList:[],propsImg:"",form:{SYSTEM_NAME:"",IDENTIFYING_CODE:"0",LOGO_TYPE:"1",LOGIN_SESSION_VALID:null,SYSTEM_LOGO:""},uploadUrl:"",rules:{SYSTEM_NAME:[{required:!0,message:"请输入系统名称"}],LOGIN_SESSION_VALID:[{required:!0,message:"请输入登录有效期"}]}}},methods:{add:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.isLoading=!e.isLoading,e.apiPost("admin/systemConfigs",e.form).then(function(t){e.handelResponse(t,function(t){_g.toastMsg("success","提交成功"),e.isLoading=!e.isLoading},function(){e.isLoading=!e.isLoading})}))})},uploadSuccess:function(e,t,n){this.form.SYSTEM_LOGO=e.data;var r={name:"图片",url:window.HOST+e.data};this.fileList.length?this.fileList[0]=r:this.fileList.push(r)},uploadFail:function(e,t,n){},handleRemove:function(e,t){},viewPic:function(){this.propsImg=this.fileList[0].url,this.$refs.preview.open()}},created:function(){var e=this;this.uploadUrl=window.HOST+"/Upload",this.apiPost("admin/base/getConfigs").then(function(t){e.handelResponse(t,function(t){if(e.form.SYSTEM_NAME=t.SYSTEM_NAME,e.form.IDENTIFYING_CODE=t.IDENTIFYING_CODE,e.form.LOGIN_SESSION_VALID=t.LOGIN_SESSION_VALID,e.form.LOGO_TYPE=t.LOGO_TYPE,e.form.USER_LIMIT=t.USER_LIMIT,t.SYSTEM_LOGO){var n=window.HOST+t.SYSTEM_LOGO;e.fileList.push({name:"图片",url:n}),e.form.SYSTEM_LOGO=t.SYSTEM_LOGO}})})},components:{preview:a.default},mixins:[i.default]}},590:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["url"],data:function(){return{}},methods:{open:function(){this.$refs.dialog.open()}}}},1186:function(e,t,n){var r,o;r=n(589);var i=n(1240);o=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(o=r=r.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=r},1187:function(e,t,n){var r,o;r=n(590);var i=n(1246);o=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(o=r=r.default),"function"==typeof o&&(o=o.options),o.render=i.render,o.staticRenderFns=i.staticRenderFns,e.exports=r},1240:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-l-50 m-t-30 w-500"},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[n("el-form-item",{attrs:{label:"系统名称",prop:"SYSTEM_NAME"}},[n("el-input",{staticClass:"h-40 w-200",model:{value:e.form.SYSTEM_NAME,callback:function(t){e.$set(e.form,"SYSTEM_NAME","string"==typeof t?t.trim():t)},expression:"form.SYSTEM_NAME"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"LOGO"}},[n("el-upload",{attrs:{action:e.uploadUrl,type:"drag","thumbnail-mode":!0,"on-preview":e.viewPic,"on-remove":e.handleRemove,"on-success":e.uploadSuccess,"on-error":e.uploadFail,"default-file-list":e.fileList}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-dragger__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件")])])],1),e._v(" "),n("el-form-item",{attrs:{label:"LOGO类型"}},[n("el-radio-group",{model:{value:e.form.LOGO_TYPE,callback:function(t){e.$set(e.form,"LOGO_TYPE",t)},expression:"form.LOGO_TYPE"}},[n("el-radio",{attrs:{label:"1"}},[e._v("图片")]),e._v(" "),n("el-radio",{attrs:{label:"2"}},[e._v("文字")])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"登录验证码"}},[n("el-radio-group",{model:{value:e.form.IDENTIFYING_CODE,callback:function(t){e.$set(e.form,"IDENTIFYING_CODE",t)},expression:"form.IDENTIFYING_CODE"}},[n("el-radio",{attrs:{label:"1"}},[e._v("打开")]),e._v(" "),n("el-radio",{attrs:{label:"0"}},[e._v("关闭")])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"登录会话有效期",prop:"LOGIN_SESSION_VALID"}},[n("el-input",{staticClass:"h-40 w-200",model:{value:e.form.LOGIN_SESSION_VALID,callback:function(t){e.$set(e.form,"LOGIN_SESSION_VALID",e._n(t))},expression:"form.LOGIN_SESSION_VALID"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){e.add()}}},[e._v("提交")])],1)],1),e._v(" "),n("preview",{ref:"preview",attrs:{url:e.propsImg}})],1)},staticRenderFns:[]}},1246:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"dialog",attrs:{"custom-class":"bg-wh tx-c box-shadow-none"}},[n("img",{attrs:{src:e.url}})])},staticRenderFns:[]}}});
//# sourceMappingURL=14.768d63f855e2bf282ef4.js.map