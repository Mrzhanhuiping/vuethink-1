webpackJsonp([29,34],{6:function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(11);e.exports.f=function(e){return new r(e)}},13:function(e,t,n){var r=n(10),o=n(2)("toStringTag"),a="Arguments"==r(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=i(t=Object(e),o))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},14:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},15:function(e,t,n){var r=n(5),o=n(20),a=n(6);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e),i=n.resolve;return i(t),n.promise}},16:function(e,t,n){var r=n(5),o=n(11),a=n(2)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||void 0==(n=r(i)[a])?t:o(n)}},17:function(e,t,n){var r,o,a,i=n(12),s=n(27),c=n(47),u=n(46),l=n(3),f=l.process,d=l.setImmediate,p=l.clearImmediate,v=l.MessageChannel,_=l.Dispatch,h=0,m={},g="onreadystatechange",y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++h]=function(){s("function"==typeof e?e:Function(e),t)},r(h),h},p=function(e){delete m[e]},"process"==n(10)(f)?r=function(e){f.nextTick(i(y,e,1))}:_&&_.now?r=function(e){_.now(i(y,e,1))}:v?(o=new v,a=o.port2,o.port1.onmessage=b,r=i(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=g in u("script")?function(e){c.appendChild(u("script"))[g]=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(i(y,e,1),0)}),e.exports={set:d,clear:p}},19:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),a=r(o),i={methods:{apiGet:function(e,t){return new a.default(function(n,r){axios.get(e,t).then(function(e){n(e.data)},function(e){r(e),_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiPost:function(e,t){return new a.default(function(n,r){axios.post(e,t).then(function(e){n(e.data)}).catch(function(e){console.log("f",e),n(e),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiPostForExport:function(e,t){return axios.post(e,t,{responseType:"arraybuffer"})},apiDelete:function(e,t){return new a.default(function(n,r){axios.delete(e+t).then(function(e){n(e.data)},function(e){r(e),_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiPut:function(e,t,n){return new a.default(function(r,o){axios.put(e+t,n).then(function(e){r(e.data)},function(e){_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"}),o(e)})})},handelResponse:function(e,t,n){_g.closeGlobalLoading(),200==e.code?t(e.data):("function"==typeof n&&n(),this.handleError(e))},handleError:function(e){var t=this;if(e.code)switch(e.code){case 101:if(console.log("cookie = ",Cookies.get("rememberPwd")),Cookies.get("rememberPwd")){var n={rememberKey:Lockr.get("rememberKey")};this.reAjax("admin/base/relogin",n).then(function(e){t.handelResponse(e,function(e){t.resetCommonData(e)})})}else _g.toastMsg("error",e.error),setTimeout(function(){router.replace("/")},1500);break;case 103:_g.toastMsg("error",e.error),setTimeout(function(){router.replace("/")},1500);break;default:_g.toastMsg("error",e.error)}else console.log("default error")},resetCommonData:function(e){var t=this;_(e.menusList).forEach(function(e,t){0==t?e.selected=!0:e.selected=!1}),Lockr.set("menus",e.menusList),Lockr.set("authKey",e.authKey),Lockr.set("rememberKey",e.rememberKey),Lockr.set("authList",e.authList),Lockr.set("userInfo",e.userInfo),Lockr.set("sessionId",e.sessionId),window.axios.defaults.headers.authKey=Lockr.get("authKey");var n="";n=e.menusList[0].url?e.menusList[0].url:e.menusList[0].child[0].child[0].url,setTimeout(function(){var e=t.$route.path;n!=e?router.replace(n):_g.shallowRefresh(t.$route.name)},1e3)},reAjax:function(e,t){return new a.default(function(n,r){axios.post(e,t).then(function(e){n(e.data)},function(e){r(e),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})}},computed:{showLoading:function(){return store.state.globalLoading}}};t.default=i},21:function(e,t,n){e.exports={default:n(24),__esModule:!0}},24:function(e,t,n){n(49),n(50),n(51),n(36),n(37),n(38),e.exports=n(4).Promise},25:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},26:function(e,t,n){var r=n(12),o=n(29),a=n(28),i=n(5),s=n(48),c=n(35),u={},l={},t=e.exports=function(e,t,n,f,d){var p,v,_,h,m=d?function(){return e}:c(e),g=r(n,f,t?2:1),y=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(a(m)){for(p=s(e.length);p>y;y++)if(h=t?g(i(v=e[y])[0],v[1]):g(e[y]),h===u||h===l)return h}else for(_=m.call(e);!(v=_.next()).done;)if(h=o(_,g,v.value,t),h===u||h===l)return h};t.BREAK=u,t.RETURN=l},27:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},28:function(e,t,n){var r=n(22),o=n(2)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},29:function(e,t,n){var r=n(5);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},30:function(e,t,n){var r=n(2)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},e(a)}catch(e){}return n}},31:function(e,t,n){var r=n(3),o=n(17).set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,c="process"==n(10)(i);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=i.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){i.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var f=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},32:function(e,t,n){var r=n(41);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},33:function(e,t,n){"use strict";var r=n(3),o=n(4),a=n(42),i=n(40),s=n(2)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];i&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},34:function(e,t,n){var r=n(3),o=r.navigator;e.exports=o&&o.userAgent||""},35:function(e,t,n){var r=n(13),o=n(2)("iterator"),a=n(22);e.exports=n(4).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||a[r(e)]}},36:function(e,t,n){"use strict";var r,o,a,i,s=n(43),c=n(3),u=n(12),l=n(13),f=n(9),d=n(20),p=n(11),v=n(25),_=n(26),h=n(16),m=n(17).set,g=n(31)(),y=n(6),b=n(14),w=n(34),x=n(15),L="Promise",k=c.TypeError,M=c.process,F=M&&M.versions,P=F&&F.v8||"",S=c[L],C="process"==l(M),j=function(){},R=o=y.f,G=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(j,j)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(j)instanceof t&&0!==P.indexOf("6.6")&&w.indexOf("Chrome/66")===-1}catch(e){}}(),$=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},E=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,o=1==e._s,a=0,i=function(t){var n,a,i,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2==e._h&&K(e),e._h=1),s===!0?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),i=!0)),n===t.promise?u(k("Promise-chain cycle")):(a=$(n))?a.call(n,c,u):c(n)):u(r)}catch(e){l&&!i&&l.exit(),u(e)}};n.length>a;)i(n[a++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){m.call(c,function(){var t,n,r,o=e._v,a=H(e);if(a&&(t=b(function(){C?M.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=C||H(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},H=function(e){return 1!==e._h&&0===(e._a||e._c).length},K=function(e){m.call(c,function(){var t;C?M.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},O=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},A=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=$(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,u(A,r,1),u(O,r,1))}catch(e){O.call(r,e)}}):(n._v=e,n._s=1,E(n,!1))}catch(e){O.call({_w:n,_d:!1},e)}}};G||(S=function(e){v(this,S,L,"_h"),p(e),r.call(this);try{e(u(A,this,1),u(O,this,1))}catch(e){O.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(32)(S.prototype,{then:function(e,t){var n=R(h(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=u(A,e,1),this.reject=u(O,e,1)},y.f=R=function(e){return e===S||e===i?new a(e):o(e)}),f(f.G+f.W+f.F*!G,{Promise:S}),n(44)(S,L),n(33)(L),i=n(4)[L],f(f.S+f.F*!G,L,{reject:function(e){var t=R(this),n=t.reject;return n(e),t.promise}}),f(f.S+f.F*(s||!G),L,{resolve:function(e){return x(s&&this===i?S:this,e)}}),f(f.S+f.F*!(G&&n(30)(function(e){S.all(e).catch(j)})),L,{all:function(e){var t=this,n=R(t),r=n.resolve,o=n.reject,a=b(function(){var n=[],a=0,i=1;_(e,!1,function(e){var s=a++,c=!1;n.push(void 0),i++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--i||r(n))},o)}),--i||r(n)});return a.e&&o(a.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,o=b(function(){_(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},37:function(e,t,n){"use strict";var r=n(9),o=n(4),a=n(3),i=n(16),s=n(15);r(r.P+r.R,"Promise",{finally:function(e){var t=i(this,o.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},38:function(e,t,n){"use strict";var r=n(9),o=n(6),a=n(14);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},606:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=r(o);t.default={data:function(){return{condition:{type:1,page:1,limit:15,structure_id:"",uid:""},post_id:JSON.parse(localStorage.getItem("userInfo")).data.post_id,reportList:{},groupList:{},groupMemberList:{}}},watch:{"condition.structure_id":function(){this.getGroupMember()}},methods:{getReportList:function(){var e=this;this.apiGet("/admin/report",{params:this.condition}).then(function(t){200===t.code?e.$set(e,"reportList",t.data):_g.toastMsg("error",t.error)}).catch(function(e){_g.toastMsg("error",e)})},getDataByPage:function(e){this.$set(this.condition,"page",e),this.getReportList()},getGroup:function(){var e=this;this.apiGet("/admin/Structures/getGroup").then(function(t){200===t.code?e.$set(e,"groupList",t.data):_g.toastMsg("error",t.error)}).catch(function(e){_g.toastMsg("error",e)})},getGroupMember:function(){var e=this;this.apiGet("/admin/users",{params:{structure_id:this.condition.structure_id}}).then(function(t){200===t.code?e.$set(e,"groupMemberList",t.data):_g.toastMsg("error",t.error)}).catch(function(e){_g.toastMsg("error",e)})},renderHeader:function(e,t){var n=t.column,r=(t.$index,{"放款金额":"当天放款的本金","服务费":"当天放款的服务费","应还总额":"当天放款金额的应收回金额","放款单数":"当天放款的单数","总支出":"当天放款本金","已还金额":"当天收回的金额","已还单数":"当天收回的单数","未还金额":"当天应还，但是未还的金额","未还单数":"当天应还，但是未还的单数","逾期率":"当天的逾期率","收益":"当天收回金额-当天放出去的金额=当天收益"});if(n.label)return e("span",{},[e("span",{},n.label),e("el-popover",{props:{placement:"top-start",width:"200",trigger:"hover",content:r[n.label]}},[e("i",{slot:"reference",class:"el-icon-question",style:"color:gray;font-size:16px;margin-left:10px;"},"")])])}},mounted:function(){this.getReportList(),_g.closeGlobalLoading(),2!==this.post_id&&this.getGroup()},mixins:[a.default]}},1203:function(e,t,n){var r,o;r=n(606);var a=n(1242);o=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(o=r=r.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,e.exports=r},1242:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[2!==e.post_id?n("el-card",{staticStyle:{"margin-bottom":"30px"},attrs:{shadow:"never"}},[n("el-form",{staticClass:"demo-form-inline delbtm",attrs:{inline:!0,model:e.condition}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择组",clearable:""},model:{value:e.condition.structure_id,callback:function(t){e.$set(e.condition,"structure_id",t)},expression:"condition.structure_id"}},[n("el-option",{attrs:{value:"0",label:"全部"}}),e._v(" "),e._l(e.groupList.list,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2),e._v(" "),n("el-select",{attrs:{filterable:"",placeholder:"请选择组员",clearable:""},model:{value:e.condition.uid,callback:function(t){e.$set(e.condition,"uid",t)},expression:"condition.uid"}},[n("el-option",{attrs:{value:"0",label:"全部"}}),e._v(" "),e._l(e.groupMemberList.list,function(e){return n("el-option",{key:e.id,attrs:{label:e.realname,value:e.id}})})],2),e._v(" "),n("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.getReportList}},[e._v("查询")])],1)],1):e._e(),e._v(" "),n("el-card",{attrs:{shadow:"never"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.reportList.list}},[n("el-table-column",{attrs:{prop:"time",label:"日期",width:"120",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"营业支出",align:"center"}},[n("el-table-column",{attrs:{label:"放款金额","render-header":e.renderHeader,prop:"loan_amount_all",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(parseFloat(t.row.loan_amount_all).toFixed(2))+"\n                        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"服务费","render-header":e.renderHeader,prop:"service_amount_all",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(parseFloat(t.row.service_amount_all).toFixed(2))+"\n                        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"应还总额","render-header":e.renderHeader,prop:"total_amount_all",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(parseFloat(t.row.total_amount_all).toFixed(2))+"\n                        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"放款单数","render-header":e.renderHeader,prop:"loan_count",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(t.row.loan_count)+"\n                        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"总支出","render-header":e.renderHeader,prop:"loan_amount_all",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(parseFloat(t.row.loan_amount_all).toFixed(2))+"\n                        ")])]}}])})],1),e._v(" "),n("el-table-column",{attrs:{label:"营业收入",align:"center"}},[n("el-table-column",{attrs:{label:"已还金额","render-header":e.renderHeader,prop:"repayment_amount_all",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(parseFloat(t.row.repayment_amount_all).toFixed(2))+"\n                        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"已还单数","render-header":e.renderHeader,prop:"repayment_count_all",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(t.row.repayment_count_all)+"\n                        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"未还金额","render-header":e.renderHeader,prop:"un_repayment_amount_all",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(parseFloat(t.row.un_repayment_amount_all).toFixed(2))+"\n                        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"未还单数","render-header":e.renderHeader,prop:"un_repayment_count",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(t.row.un_repayment_count)+"\n                        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"逾期率","render-header":e.renderHeader,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                            "+e._s(t.row.count_all?t.row.un_repayment_count/t.row.count_all*100+"%":"0%")+"\n                        ")])]}}])})],1),e._v(" "),n("el-table-column",{attrs:{label:"收益",align:"center","render-header":e.renderHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"cell"},[e._v("\n                        "+e._s(parseFloat(t.row.repayment_amount_all-t.row.loan_amount_all).toFixed(2))+"\n                    ")])]}}])})],1),e._v(" "),n("el-pagination",{staticClass:"fr",attrs:{layout:"total,prev, pager, next",total:e.reportList.dataCount,pageSize:15},on:{"current-change":e.getDataByPage}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=29.d4b9afc8369aa761fef5.js.map